#!/usr/bin/python3
# SPDX-License-Identifier: zlib-acknowledgement

# https://cooking.nytimes.com/recipes/1020149-pressure-cooker-chicken-tagine-with-butternut-squash

'''
INGREDIENTS
2tablespoons canola oil
1large red onion, finely chopped
Kosher salt
1(4-inch) piece fresh ginger, peeled and minced (about ¼ cup)
6large garlic cloves, chopped
1cinnamon stick
2teaspoons sweet paprika
1teaspoon ground turmeric
¾teaspoon cumin
½teaspoon hot smoked paprika
½teaspoon ground ginger
¼teaspoon ground cayenne
⅛teaspoon ground cloves
Black pepper
1tablespoon tomato paste
1cup chicken stock
¼cup fresh lemon juice (from about 1 large lemon), plus more to taste
2pounds boneless, skinless chicken thighs
8dates, such as Medjool, pitted and halved
1(2- to 2½-pound) butternut squash, peeled, halved lengthwise, 
seeded and cut into 1-by-3-inch wedges
1small bunch flat-leaf parsley, chopped
4scallions, thinly sliced
Cooked couscous or pita for serving (optional) (pearl couscous)
Plain yogurt, for topping (optional)
Toasted almonds, for topping (optional)

PREPARATION
Step 1
Using the sauté setting, warm the oil in the pot of a 6- to 8-quart pressure cooker. 
Add the onion, season with salt, and cook, stirring occasionally, until the onion is softened and translucent, about 5 minutes. 
Add the fresh ginger and garlic and cook, stirring, until fragrant and softened, about 2 minutes.
Add the cinnamon stick, sweet paprika, turmeric, cumin, smoked paprika, ground ginger, cayenne and cloves. 
Season generously with black pepper. Stir well.

Step 2
Add the tomato paste and stir until fully combined, fragrant and brick-red in color, about 1 minute. 
Add the chicken stock and lemon juice, scraping any browned bits that have collected at the bottom of the pan. 
Turn off the heat. 
Add the chicken and the dates and stir to combine. 
Place the butternut squash wedges on top and season them generously with salt and pepper. 
Close the lid and cook on high pressure for 16 minutes.

Step 3
Let the pressure release naturally for 10 minutes, then release remaining pressure manually. 
Open the lid, add the parsley and scallions and gently fold everything together. 
(The butternut squash will fall apart slightly to thicken the sauce.) 
Taste and add lemon juice and salt, if necessary. 
Serve with couscous or pita and top with yogurt and toasted almonds, if desired.
'''
